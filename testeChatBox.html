<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script>
        /*Cada vez que voces digitarem um texto no formulraio vai ser inserido
                <dt>Vosso nome</dt>
                <dd>[hora:minuto:segundo]Mensagem</dd>*/
        document.addEventListener("DOMContentLoaded", () => {
            const form = document.querySelector("form");
            const messages = document.getElementById("messages");
            const userName = "Ellen Marin"


            const bots = [
                {
                    name: "Fernando Pessoa",
                    messages: [
                        "Amo como ama o amor. Não conheço nenhuma outra razão para amar senão amar. Que queres que te diga, além de que te amo, se o que quero dizer-te é que te amo?",
                        "Às vezes ouço passar o vento; e só de ouvir o vento passar, vale a pena ter nascido",
                        "Tudo vale a pena quando a alma não é pequena."]
                },
                {
                    name: "A Fada Azul - Pinóquio",
                    messages: [
                        "Não sabe o que fazer? Qual caminho seguir? Não se desespere!",
                        "Siga o valioso conselho da Fada Azul: feche os olhos e ouça aquela vozinha que ecoa no interior do seu corpo. ",
                        "Esta voz é a sua consciência e ela nunca te enganará!"]
                },
                {
                    name: "Rainha Branca - Alice no País das Maravilhas",
                    messages: [
                        "Você não pode viver a vida para agradar os outros. A escolha tem que ser sua",
                        "Nós só temos uma vida e devemos vivê-la! Não conduza os caminhos da sua vida consoante os desejos alheios. Tenha planos, tenha desejos e corra atrás deles!",
                        "A vida é sua e cabe a você conduzi-la!"]
                },
            ]

            form.addEventListener("submit", (e) => {
                e.preventDefault();
                const dateTime = new Date();

                message.appendChild(document.createElement("dt")).textContent = userName;
                message.appendChild(document.createElement("dd")).textContent = "[" + dateTime.toLocaleTimeString() + "] " + form.escrevaAlgo.value;

                setTimeout(() => {
                    const botEscolhido = bots[Math.floor(Math.random() * bots.length)];
                    message.appendChild(document.createElement("dt")).textContent = botEscolhido.name;

                    const messageBotEscolhido = botEscolhido.messages[Math.floor(Math.random() * botEscolhido.messages.length)];
                    message.appendChild(document.createElement("dd")).textContent = "[" + dateTime.toLocaleTimeString() + "] " + messageBotEscolhido;

                }, 1000)


            })
        })

    </script>
</head>

<body>
    <main>
        <dl id="message"></dl>

        <div>
            <form action="testeChatBox.html" method="post">
                <label>
                    <input type="text" id="escrevaAlgo" required placeholder="Escreva algo">
                </label>
                <button type="submit">Enviar</button>
            </form>
        </div>
    </main>

</body>

</html>